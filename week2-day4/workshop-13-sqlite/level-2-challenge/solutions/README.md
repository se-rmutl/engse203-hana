# üìö ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î - Workshop 13 Level 2

## ‚úÖ ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

‡πÄ‡∏â‡∏•‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **Library System** ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 3 ‡πÑ‡∏ü‡∏•‡πå:

### 1. [Book.js.md](./Book.js.md) 
**Methods ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô:**
- ‚úÖ `getAvailable()` - ‡∏î‡∏∂‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á
- ‚úÖ `search(keyword)` - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠
- ‚úÖ `add(title, author)` - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà

**‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å:** ‚≠ê‚≠ê (‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢)

---

### 2. [Member.js.md](./Member.js.md)
**Methods ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô:**
- ‚úÖ `getBorrowedBooks(memberId)` - ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏° (‡∏°‡∏µ‡πÄ‡∏â‡∏•‡∏¢‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß)
- ‚úÖ `add(name, email, phone)` - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà

**‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å:** ‚≠ê‚≠ê‚≠ê (‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á - ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ JOIN)

---

### 3. [Borrowing.js.md](./Borrowing.js.md)
**Methods ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô:**
- ‚úÖ `borrow(bookId, memberId)` - ‡∏¢‡∏∑‡∏°‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠
- ‚úÖ `returnBook(borrowingId)` - ‡∏Ñ‡∏∑‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠
- ‚úÖ `getUnreturned()` - ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ô

**‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å:** ‚≠ê‚≠ê‚≠ê‚≠ê (‡∏¢‡∏≤‡∏Å‡∏™‡∏∏‡∏î - ‡∏ï‡πâ‡∏≠‡∏á UPDATE ‡∏´‡∏•‡∏≤‡∏¢ tables)

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô

| ‡πÑ‡∏ü‡∏•‡πå | Methods | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏° | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å |
|------|---------|----------|---------|
| Book.js | 3 methods | 30% | ‚≠ê‚≠ê |
| Member.js | 2 methods | 30% | ‚≠ê‚≠ê‚≠ê |
| Borrowing.js | 3 methods | 40% | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **‡∏£‡∏ß‡∏°** | **8 methods** | **100%** | - |

---

## üéØ Concepts ‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°

### SQL Skills:
- ‚úÖ SELECT with WHERE
- ‚úÖ INSERT statements
- ‚úÖ UPDATE statements
- ‚úÖ LIKE operator & wildcards
- ‚úÖ JOIN (INNER JOIN)
- ‚úÖ IS NULL / IS NOT NULL
- ‚úÖ ORDER BY
- ‚úÖ Date functions (julianday)

### Database Concepts:
- ‚úÖ Primary Keys
- ‚úÖ Foreign Keys
- ‚úÖ Relationships (One-to-Many)
- ‚úÖ Data validation
- ‚úÖ Business logic

### Programming Skills:
- ‚úÖ Parameterized queries
- ‚úÖ Error handling
- ‚úÖ Return values
- ‚úÖ SQL injection prevention

---

## üìù Quick Reference

### ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Ñ‡∏£‡∏ö (70%):
```
‚úÖ schema.sql - database structure
‚úÖ seed.sql - sample data
‚úÖ db.js - database connection
‚úÖ index.js - main program
```

### ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô (30%):
```
üî® Book.js - 3 methods
üî® Member.js - 2 methods  
üî® Borrowing.js - 3 methods
```

---

## üß™ Test Script

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `test.js` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å method:

```javascript
const { db, reset } = require('./db');
const Book = require('./models/Book');
const Member = require('./models/Member');
const Borrowing = require('./models/Borrowing');

reset();

console.log('üß™ Testing all methods...\n');

// Test Book.js
console.log('üìö Testing Book.js...');
console.log('Available books:', Book.getAvailable().length);
console.log('Search results:', Book.search('Harry').length);
const newBookId = Book.add('Test Book', 'Test Author');
console.log('Added book ID:', newBookId);

// Test Member.js
console.log('\nüë§ Testing Member.js...');
const borrowed = Member.getBorrowedBooks(1);
console.log('Books borrowed by member #1:', borrowed.length);
const newMemberId = Member.add('Test User', 'test@email.com', '0899999999');
console.log('Added member ID:', newMemberId);

// Test Borrowing.js
console.log('\nüìñ Testing Borrowing.js...');
const borrowId = Borrowing.borrow(2, 1);
console.log('Borrow ID:', borrowId);
const success = Borrowing.returnBook(borrowId);
console.log('Return success:', success);
const unreturned = Borrowing.getUnreturned();
console.log('Unreturned books:', unreturned.length);

console.log('\n‚úÖ All tests completed!');

db.close();
```

‡∏£‡∏±‡∏ô:
```bash
node test.js
```

---

## üí° Tips ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏á‡∏≤‡∏ô

**‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:**
1. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å **Book.js** - ‡∏á‡πà‡∏≤‡∏¢‡∏™‡∏∏‡∏î
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Member.js** - ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á  
3. ‡∏à‡∏ö‡∏ó‡∏µ‡πà **Borrowing.js** - ‡∏¢‡∏≤‡∏Å‡∏™‡∏∏‡∏î

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ:**
- ‚úÖ SQL syntax ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ ‡πÉ‡∏ä‡πâ parameterized queries (‡πÑ‡∏°‡πà hardcode)
- ‚úÖ return ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ ‡∏°‡∏µ error handling (bonus)

**Red Flags:**
- ‚ùå SQL injection (‡πÉ‡∏ä‡πâ string concatenation)
- ‚ùå ‡πÉ‡∏ä‡πâ = NULL ‡πÅ‡∏ó‡∏ô IS NULL
- ‚ùå ‡∏•‡∏∑‡∏°‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó available ‡πÉ‡∏ô Borrowing
- ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏¢‡∏∑‡∏°/‡∏Ñ‡∏∑‡∏ô

---

## üéì ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤

### ‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏Ç‡∏±‡∏î:

1. **‡∏≠‡πà‡∏≤‡∏ô hints** ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå
2. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö SQL** ‡πÉ‡∏ô DB Browser ‡∏Å‡πà‡∏≠‡∏ô
3. **‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞ method** ‡∏≠‡∏¢‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏°
4. **‡πÉ‡∏ä‡πâ console.log** ‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
5. **‡∏ñ‡∏≤‡∏°‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå** ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏ï‡∏¥‡∏î

### ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:

```
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1: Book.js (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2: Member.js (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3: Borrowing.js (borrow + returnBook)
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 4: Borrowing.js (getUnreturned + testing)
```

---

## üìö Resources

### Documentation:
- [SQLite Documentation](https://www.sqlite.org/lang.html)
- [better-sqlite3 API](https://github.com/WiseLibs/better-sqlite3/blob/master/docs/api.md)

### Tools:
- [DB Browser for SQLite](https://sqlitebrowser.org/) - ‡∏î‡∏π database
- [SQLite Online](https://sqliteonline.com/) - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö SQL

---

## ‚úÖ Checklist ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤

### Book.js
- [ ] getAvailable() ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] search() ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á title ‡πÅ‡∏•‡∏∞ author
- [ ] add() return ID ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### Member.js
- [ ] getBorrowedBooks() ‡πÅ‡∏™‡∏î‡∏á JOIN ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] add() ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÑ‡∏î‡πâ

### Borrowing.js
- [ ] borrow() ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó 2 tables
- [ ] borrow() ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏á
- [ ] returnBook() ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó 2 tables
- [ ] returnBook() ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
- [ ] getUnreturned() ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ô

### Testing
- [ ] ‡∏£‡∏±‡∏ô index.js ‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà error
- [ ] ‡∏•‡∏≠‡∏á borrow-return ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- [ ] ‡∏•‡∏≠‡∏á edge cases (‡∏¢‡∏∑‡∏°‡∏ã‡πâ‡∏≥, ‡∏Ñ‡∏∑‡∏ô‡∏ã‡πâ‡∏≥)

---

## üéâ ‡∏™‡∏£‡∏∏‡∏õ

‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏ô ‡∏°‡∏µ:
- ‚úÖ Code ‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö
- ‚úÖ ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- ‚úÖ Common mistakes
- ‚úÖ Test cases
- ‚úÖ ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô

**‡∏ó‡∏±‡πâ‡∏á 3 ‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `solutions/` ‡πÅ‡∏•‡πâ‡∏ß!**

---

**Happy Teaching! üéì**
